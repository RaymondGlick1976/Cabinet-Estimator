<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cabinet Estimator - Homestead Cabinet Design</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    input[type="number"] {
      -moz-appearance: textfield;
    }
    body {
      font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: #0f1419;
      min-height: 100vh;
      color: #e8e6e3;
    }
    .header {
      background: linear-gradient(135deg, #1a2332 0%, #0d1117 100%);
      padding: 24px 32px;
      border-bottom: 1px solid #30363d;
    }
    .logo {
      font-size: 24px;
      font-weight: 700;
      color: #58a6ff;
      margin: 0;
      letter-spacing: -0.5px;
    }
    .logo-sub {
      font-size: 13px;
      color: #8b949e;
      margin-top: 4px;
      font-weight: 400;
    }
    .tabs {
      display: flex;
      gap: 4px;
      padding: 16px 32px 0;
      background-color: #161b22;
      border-bottom: 1px solid #30363d;
    }
    .tab {
      padding: 12px 24px;
      border: none;
      background: transparent;
      color: #8b949e;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: all 0.2s;
      margin-bottom: -1px;
    }
    .tab.active {
      color: #58a6ff;
      border-bottom-color: #58a6ff;
      background-color: rgba(88, 166, 255, 0.1);
    }
    .content {
      padding: 32px;
      max-width: 1400px;
      margin: 0 auto;
    }
    .page-title {
      font-size: 28px;
      font-weight: 600;
      color: #e6edf3;
      margin: 0 0 8px 0;
    }
    .subtitle {
      color: #8b949e;
      font-size: 14px;
      margin: 0 0 32px 0;
    }
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 24px;
    }
    .settings-section {
      background-color: #161b22;
      border-radius: 12px;
      border: 1px solid #30363d;
      overflow: hidden;
    }
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      border-bottom: 1px solid #30363d;
      background-color: #1c2128;
    }
    .section-title {
      font-size: 15px;
      font-weight: 600;
      color: #e6edf3;
      margin: 0;
    }
    .add-btn {
      padding: 6px 12px;
      background-color: #238636;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
    }
    .add-form {
      display: flex;
      gap: 12px;
      align-items: center;
      padding: 16px 20px;
      background-color: #1c2128;
      border-bottom: 1px solid #30363d;
      flex-wrap: wrap;
    }
    .input {
      padding: 8px 12px;
      background-color: #0d1117;
      border: 1px solid #30363d;
      border-radius: 6px;
      color: #e6edf3;
      font-size: 14px;
      flex: 1;
      min-width: 120px;
    }
    .items-list {
      max-height: 300px;
      overflow-y: auto;
    }
    .item-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 20px;
      border-bottom: 1px solid #21262d;
    }
    .item-name {
      color: #e6edf3;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .per-inch-badge {
      font-size: 10px;
      padding: 2px 6px;
      background-color: #388bfd26;
      color: #58a6ff;
      border-radius: 10px;
      font-weight: 500;
    }
    .item-actions {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .dollar-sign, .percent-sign {
      color: #8b949e;
      font-size: 14px;
    }
    .percent-sign {
      margin-left: 4px;
    }
    .price-input {
      width: 120px;
      min-width: 120px;
      padding: 8px 12px;
      background-color: #0d1117;
      border: 1px solid #30363d;
      border-radius: 6px;
      color: #e6edf3;
      font-size: 16px;
      text-align: right;
    }
    .remove-btn {
      width: 28px;
      height: 28px;
      background-color: transparent;
      border: 1px solid transparent;
      border-radius: 6px;
      color: #8b949e;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 8px;
    }
    .remove-btn:hover {
      color: #f85149;
      border-color: #f85149;
    }
    .checkbox-label {
      display: flex;
      align-items: center;
      gap: 6px;
      color: #8b949e;
      font-size: 13px;
    }
    .submit-btn {
      padding: 8px 16px;
      background-color: #238636;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
    }
    .job-actions-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      padding: 16px 20px;
      background-color: #161b22;
      border-radius: 12px;
      border: 1px solid #30363d;
      flex-wrap: wrap;
      gap: 12px;
    }
    .job-actions-left, .job-actions-right {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    .new-job-btn {
      padding: 10px 18px;
      background-color: #238636;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
    }
    .save-job-btn {
      padding: 10px 18px;
      background-color: #1f6feb;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
    }
    .open-job-btn {
      padding: 10px 18px;
      background-color: #21262d;
      color: #e6edf3;
      border: 1px solid #30363d;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
    }
    .export-btn {
      padding: 10px 18px;
      background-color: #6e40c9;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
    }
    .clear-btn {
      padding: 10px 18px;
      background-color: #21262d;
      color: #f85149;
      border: 1px solid #f85149;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
    }
    .job-list-card {
      background-color: #161b22;
      border-radius: 12px;
      border: 1px solid #30363d;
      margin-bottom: 24px;
      overflow: hidden;
    }
    .job-list-title {
      font-size: 16px;
      font-weight: 600;
      color: #e6edf3;
      margin: 0;
      padding: 16px 20px;
      border-bottom: 1px solid #30363d;
      background-color: #1c2128;
    }
    .job-list {
      max-height: 300px;
      overflow-y: auto;
    }
    .job-list-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 20px;
      border-bottom: 1px solid #21262d;
    }
    .job-list-item.active {
      background-color: rgba(88, 166, 255, 0.1);
      border-left: 3px solid #58a6ff;
    }
    .job-list-info {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .job-list-name {
      font-size: 14px;
      font-weight: 500;
      color: #e6edf3;
    }
    .job-list-date {
      font-size: 12px;
      color: #8b949e;
    }
    .job-list-actions {
      display: flex;
      gap: 8px;
    }
    .load-job-btn {
      padding: 6px 14px;
      background-color: #238636;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
    }
    .delete-job-btn {
      width: 28px;
      height: 28px;
      background-color: #21262d;
      border: 1px solid #f85149;
      border-radius: 6px;
      color: #f85149;
      font-size: 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .estimate-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 24px;
    }
    .saved-badge {
      font-size: 12px;
      padding: 4px 10px;
      background-color: #238636;
      color: #fff;
      border-radius: 12px;
      font-weight: 500;
    }
    .card {
      background-color: #161b22;
      border-radius: 12px;
      border: 1px solid #30363d;
      margin-bottom: 24px;
      overflow: hidden;
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      border-bottom: 1px solid #30363d;
      background-color: #1c2128;
    }
    .card-title {
      font-size: 16px;
      font-weight: 600;
      color: #e6edf3;
      margin: 0;
      padding: 16px 20px 0;
    }
    .form-row {
      display: flex;
      gap: 20px;
      padding: 16px 20px 20px;
      flex-wrap: wrap;
    }
    .form-group {
      flex: 1;
      min-width: 200px;
    }
    .label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: #8b949e;
      margin-bottom: 8px;
    }
    .label-small {
      display: block;
      font-size: 11px;
      font-weight: 500;
      color: #8b949e;
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .input-large {
      width: 100%;
      padding: 10px 14px;
      background-color: #0d1117;
      border: 1px solid #30363d;
      border-radius: 6px;
      color: #e6edf3;
      font-size: 14px;
    }
    .input-small {
      width: 100%;
      padding: 8px 10px;
      background-color: #0d1117;
      border: 1px solid #30363d;
      border-radius: 6px;
      color: #e6edf3;
      font-size: 13px;
    }
    .select {
      width: 100%;
      padding: 10px 14px;
      background-color: #0d1117;
      border: 1px solid #30363d;
      border-radius: 6px;
      color: #e6edf3;
      font-size: 14px;
      cursor: pointer;
    }
    .select-small {
      width: 100%;
      padding: 8px 10px;
      background-color: #0d1117;
      border: 1px solid #30363d;
      border-radius: 6px;
      color: #e6edf3;
      font-size: 13px;
      cursor: pointer;
    }
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
      padding: 16px 20px 20px;
    }
    .category-card {
      background-color: #0d1117;
      border-radius: 8px;
      padding: 16px;
      border: 1px solid #30363d;
    }
    .category-title {
      font-size: 14px;
      font-weight: 600;
      color: #58a6ff;
      margin: 0 0 12px 0;
    }
    .add-wall-btn {
      padding: 8px 16px;
      background-color: #238636;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
    }
    .empty-text {
      color: #8b949e;
      font-size: 14px;
      text-align: center;
      padding: 40px 20px;
      margin: 0;
    }
    .walls-list, .parts-list {
      padding: 16px 20px 20px;
    }
    .wall-row, .part-row {
      display: flex;
      gap: 16px;
      align-items: flex-end;
      padding: 16px;
      background-color: #0d1117;
      border-radius: 8px;
      margin-bottom: 12px;
      border: 1px solid #30363d;
      flex-wrap: wrap;
    }
    .wall-field, .part-field {
      flex: 1;
      min-width: 120px;
    }
    .calculated-value {
      display: block;
      padding: 8px 10px;
      background-color: #1c2128;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 600;
      color: #7ee787;
    }
    .remove-wall-btn {
      width: 36px;
      height: 36px;
      background-color: #21262d;
      border: 1px solid #30363d;
      border-radius: 6px;
      color: #f85149;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    .totals-card {
      background-color: #161b22;
      border-radius: 12px;
      border: 2px solid #238636;
      padding: 24px;
      margin-top: 32px;
    }
    .totals-title {
      font-size: 18px;
      font-weight: 600;
      color: #7ee787;
      margin: 0 0 8px 0;
    }
    .job-name-display {
      font-size: 24px;
      font-weight: 700;
      color: #e6edf3;
      margin: 0 0 24px 0;
    }
    .totals-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    .total-item {
      background-color: #0d1117;
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }
    .total-label {
      display: block;
      font-size: 12px;
      font-weight: 500;
      color: #8b949e;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .total-value {
      font-size: 24px;
      font-weight: 700;
      color: #58a6ff;
    }
    .divider {
      height: 1px;
      background-color: #30363d;
      margin: 20px 0;
    }
    .breakdown-list {
      margin-bottom: 20px;
    }
    .breakdown-item {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #21262d;
      font-size: 14px;
      color: #e6edf3;
    }
    .grand-total {
      display: flex;
      justify-content: space-between;
      padding: 20px;
      background-color: #238636;
      border-radius: 8px;
      font-size: 20px;
      font-weight: 700;
      color: #fff;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState } = React;

    const defaultSettings = {
      cabinetTypes: [
        { id: 1, name: 'New Cabinets', price: 200 },
        { id: 2, name: 'Refacing', price: 100 },
        { id: 3, name: 'Refinishing', price: 50 },
        { id: 4, name: 'Hybrid', price: 75 },
      ],
      materialTypes: [
        { id: 1, name: 'Paint Grade', percentage: 2 },
        { id: 2, name: 'Stained', percentage: 10 },
        { id: 3, name: 'Natural', percentage: 5 },
        { id: 4, name: 'Hybrid Painted Cab/Paint Grade Doors', percentage: 6 },
      ],
      additionalParts: [
        { id: 1, name: 'Crown', price: 0, perInch: false },
        { id: 2, name: 'Light Rail', price: 0, perInch: false },
        { id: 3, name: 'Baseboard', price: 0, perInch: false },
        { id: 4, name: 'Valance', price: 0, perInch: false },
        { id: 5, name: 'Trash', price: 0, perInch: false },
        { id: 6, name: 'Mixer', price: 0, perInch: false },
        { id: 7, name: 'Pan Dividers', price: 0, perInch: false },
        { id: 8, name: 'Glass Doors', price: 0, perInch: false },
        { id: 9, name: 'Painted Interior/Per Door', price: 0, perInch: false },
        { id: 10, name: 'Filler', price: 0, perInch: false },
        { id: 11, name: 'End Panel', price: 0, perInch: false },
        { id: 12, name: 'Island Back', price: 0, perInch: false },
        { id: 13, name: 'Rollout Set Base', price: 0, perInch: true },
        { id: 14, name: 'Rollout Set Pantry', price: 0, perInch: true },
        { id: 15, name: 'Drawer (Top)', price: 0, perInch: true },
        { id: 16, name: 'Drawer (Deep)', price: 0, perInch: true },
      ],
      defaultHeights: {
        uppers: 30,
        bases: 34.5,
        tall: 84,
        island: 34.5,
      },
    };

    const cabinetCategories = ['Wall Cabinets', 'Base Cabinets', 'Tall Cabinets', 'Island Cabinets'];

    const createEmptyJob = () => ({
      id: Date.now(),
      name: '',
      categories: cabinetCategories.map((cat, idx) => ({
        id: idx + 1,
        name: cat,
        cabinetTypeId: null,
        materialTypeId: null,
      })),
      walls: [],
      additionalParts: [],
      savedSettings: null, // Will store a snapshot of settings when job is saved
      createdAt: new Date().toISOString(),
      updatedAt: new Date().toISOString(),
    });

    // Load saved data from localStorage
    const loadFromStorage = (key, defaultValue) => {
      try {
        const saved = localStorage.getItem(key);
        return saved ? JSON.parse(saved) : defaultValue;
      } catch (e) {
        return defaultValue;
      }
    };

    function CabinetEstimator() {
      const [activeTab, setActiveTab] = useState('settings');
      const [settings, setSettings] = useState(() => loadFromStorage('cabinetEstimator_settings', defaultSettings));
      const [job, setJob] = useState(() => loadFromStorage('cabinetEstimator_currentJob', createEmptyJob()));
      const [savedJobs, setSavedJobs] = useState(() => loadFromStorage('cabinetEstimator_savedJobs', []));
      const [showJobList, setShowJobList] = useState(false);
      const [nextWallId, setNextWallId] = useState(() => {
        const savedJob = loadFromStorage('cabinetEstimator_currentJob', null);
        if (savedJob && savedJob.walls && savedJob.walls.length > 0) {
          return Math.max(...savedJob.walls.map(w => w.id)) + 1;
        }
        return 1;
      });
      const [nextPartId, setNextPartId] = useState(() => {
        const savedJob = loadFromStorage('cabinetEstimator_currentJob', null);
        if (savedJob && savedJob.additionalParts && savedJob.additionalParts.length > 0) {
          return Math.max(...savedJob.additionalParts.map(p => p.id)) + 1;
        }
        return 1;
      });
      const [editSection, setEditSection] = useState(null);
      const [newItemName, setNewItemName] = useState('');
      const [newItemPrice, setNewItemPrice] = useState('');
      const [newItemPerInch, setNewItemPerInch] = useState(false);

      // Auto-save settings whenever they change
      React.useEffect(() => {
        localStorage.setItem('cabinetEstimator_settings', JSON.stringify(settings));
      }, [settings]);

      // Auto-save current job whenever it changes
      React.useEffect(() => {
        localStorage.setItem('cabinetEstimator_currentJob', JSON.stringify(job));
      }, [job]);

      // Auto-save saved jobs list whenever it changes
      React.useEffect(() => {
        localStorage.setItem('cabinetEstimator_savedJobs', JSON.stringify(savedJobs));
      }, [savedJobs]);

      // Reset all data to defaults
      const resetToDefaults = () => {
        if (window.confirm('This will reset all your pricing settings and clear all saved jobs. Are you sure?')) {
          setSettings(defaultSettings);
          setJob(createEmptyJob());
          setSavedJobs([]);
          setNextWallId(1);
          setNextPartId(1);
          localStorage.removeItem('cabinetEstimator_settings');
          localStorage.removeItem('cabinetEstimator_currentJob');
          localStorage.removeItem('cabinetEstimator_savedJobs');
          alert('All data has been reset to defaults.');
        }
      };

      // Settings functions
      const updatePrice = (section, id, price) => {
        setSettings(prev => ({
          ...prev,
          [section]: prev[section].map(item =>
            item.id === id ? { ...item, price: parseFloat(price) || 0 } : item
          ),
        }));
      };

      const updatePercentage = (section, id, percentage) => {
        setSettings(prev => ({
          ...prev,
          [section]: prev[section].map(item =>
            item.id === id ? { ...item, percentage: parseFloat(percentage) || 0 } : item
          ),
        }));
      };

      const addItem = (section) => {
        if (!newItemName.trim()) return;
        const newId = Math.max(...settings[section].map(i => i.id), 0) + 1;
        const newItem = {
          id: newId,
          name: newItemName.trim(),
          ...(section === 'materialTypes' 
            ? { percentage: parseFloat(newItemPrice) || 0 }
            : { price: parseFloat(newItemPrice) || 0 }
          ),
          ...(section === 'additionalParts' && { perInch: newItemPerInch }),
        };
        setSettings(prev => ({
          ...prev,
          [section]: [...prev[section], newItem],
        }));
        setNewItemName('');
        setNewItemPrice('');
        setNewItemPerInch(false);
      };

      const removeItem = (section, id) => {
        setSettings(prev => ({
          ...prev,
          [section]: prev[section].filter(item => item.id !== id),
        }));
      };

      // Job functions
      const saveJob = () => {
        if (!job.name.trim()) {
          alert('Please enter a job name before saving.');
          return;
        }
        // Save a snapshot of current settings with the job
        const updatedJob = { 
          ...job, 
          savedSettings: JSON.parse(JSON.stringify(settings)), // Deep copy of settings
          updatedAt: new Date().toISOString() 
        };
        setSavedJobs(prev => {
          const existingIndex = prev.findIndex(j => j.id === job.id);
          if (existingIndex >= 0) {
            const updated = [...prev];
            updated[existingIndex] = updatedJob;
            return updated;
          }
          return [...prev, updatedJob];
        });
        setJob(updatedJob);
        alert(`Job "${job.name}" saved successfully!`);
      };

      const newJobHandler = () => {
        if (job.name.trim() && !savedJobs.find(j => j.id === job.id)) {
          if (window.confirm('Save current job before creating a new one?')) {
            saveJob();
          }
        }
        setJob(createEmptyJob());
        setNextWallId(1);
        setNextPartId(1);
        setShowJobList(false);
      };

      const loadJob = (savedJob) => {
        setJob({ ...savedJob });
        // Restore the settings that were saved with this job
        if (savedJob.savedSettings) {
          setSettings(savedJob.savedSettings);
        }
        const maxWallId = Math.max(...(savedJob.walls.map(w => w.id) || [0]), 0);
        const maxPartId = Math.max(...(savedJob.additionalParts.map(p => p.id) || [0]), 0);
        setNextWallId(maxWallId + 1);
        setNextPartId(maxPartId + 1);
        setShowJobList(false);
      };

      const deleteJob = (jobId) => {
        if (window.confirm('Are you sure you want to delete this job?')) {
          setSavedJobs(prev => prev.filter(j => j.id !== jobId));
          if (job.id === jobId) {
            setJob(createEmptyJob());
          }
        }
      };

      const clearEstimate = () => {
        setJob(createEmptyJob());
        setNextWallId(1);
        setNextPartId(1);
      };

      // Wall functions
      const addWall = () => {
        setJob(prev => ({
          ...prev,
          walls: [...prev.walls, { id: nextWallId, name: `Wall ${nextWallId}`, uppersLinear: 0, basesLinear: 0, tallLinear: 0, islandLinear: 0 }],
        }));
        setNextWallId(prev => prev + 1);
      };

      const updateWall = (wallId, field, value) => {
        setJob(prev => ({
          ...prev,
          walls: prev.walls.map(wall =>
            wall.id === wallId ? { ...wall, [field]: field === 'name' ? value : parseFloat(value) || 0 } : wall
          ),
        }));
      };

      const removeWall = (wallId) => {
        setJob(prev => ({ ...prev, walls: prev.walls.filter(wall => wall.id !== wallId) }));
      };

      // Part functions
      const addPart = () => {
        setJob(prev => ({
          ...prev,
          additionalParts: [...prev.additionalParts, { id: nextPartId, partId: null, quantity: 1, widthInches: 0 }],
        }));
        setNextPartId(prev => prev + 1);
      };

      const updatePart = (partEntryId, field, value) => {
        setJob(prev => ({
          ...prev,
          additionalParts: prev.additionalParts.map(part =>
            part.id === partEntryId
              ? { ...part, [field]: field === 'partId' ? (value ? parseInt(value) : null) : parseFloat(value) || 0 }
              : part
          ),
        }));
      };

      const removePart = (partEntryId) => {
        setJob(prev => ({ ...prev, additionalParts: prev.additionalParts.filter(part => part.id !== partEntryId) }));
      };

      // Category functions
      const updateCategory = (catId, field, value) => {
        setJob(prev => ({
          ...prev,
          categories: prev.categories.map(cat =>
            cat.id === catId ? { ...cat, [field]: value ? parseInt(value) : null } : cat
          ),
        }));
      };

      // Calculations - merge saved heights with defaults to handle missing values
      const defaultHeights = { uppers: 30, bases: 34.5, tall: 84, island: 34.5 };
      const heights = { ...defaultHeights, ...(settings.defaultHeights || {}) };
      
      const totalUppersLinear = job.walls.reduce((sum, wall) => sum + (wall.uppersLinear || 0), 0);
      const totalBasesLinear = job.walls.reduce((sum, wall) => sum + (wall.basesLinear || 0), 0);
      const totalTallLinear = job.walls.reduce((sum, wall) => sum + (wall.tallLinear || 0), 0);
      const totalIslandLinear = job.walls.reduce((sum, wall) => sum + (wall.islandLinear || 0), 0);
      const totalLinearInches = totalUppersLinear + totalBasesLinear + totalTallLinear + totalIslandLinear;
      
      // Calculate square inches then convert to square feet (divide by 144)
      const totalUppersSqFt = (totalUppersLinear * heights.uppers) / 144;
      const totalBasesSqFt = (totalBasesLinear * heights.bases) / 144;
      const totalTallSqFt = (totalTallLinear * heights.tall) / 144;
      const totalIslandSqFt = (totalIslandLinear * heights.island) / 144;
      const totalSquareFeet = totalUppersSqFt + totalBasesSqFt + totalTallSqFt + totalIslandSqFt;

      const getWallSquareFeet = (wall) => {
        const sqIn = ((wall.uppersLinear || 0) * heights.uppers) + 
               ((wall.basesLinear || 0) * heights.bases) + 
               ((wall.tallLinear || 0) * heights.tall) +
               ((wall.islandLinear || 0) * heights.island);
        return sqIn / 144;
      };

      // Get rate for a specific category (cabinet type price √ó (1 + material percentage))
      const getCategoryRate = (categoryId) => {
        const category = job.categories.find(c => c.id === categoryId);
        if (!category) return 0;
        const cabinetType = settings.cabinetTypes.find(ct => ct.id === category.cabinetTypeId);
        const materialType = settings.materialTypes.find(mt => mt.id === category.materialTypeId);
        if (!cabinetType) return 0;
        let rate = cabinetType.price;
        if (materialType && materialType.percentage > 0) {
          rate = rate * (1 + materialType.percentage / 100);
        }
        return rate;
      };

      // Category IDs: 1=Wall, 2=Base, 3=Tall, 4=Island
      const wallCabinetsRate = getCategoryRate(1);
      const baseCabinetsRate = getCategoryRate(2);
      const tallCabinetsRate = getCategoryRate(3);
      const islandCabinetsRate = getCategoryRate(4);

      const uppersCost = totalUppersSqFt * wallCabinetsRate;
      const basesCost = totalBasesSqFt * baseCabinetsRate;
      const tallCost = totalTallSqFt * tallCabinetsRate;
      const islandCost = totalIslandSqFt * islandCabinetsRate;
      const cabinetryEstimate = uppersCost + basesCost + tallCost + islandCost;

      const partsTotal = job.additionalParts.reduce((sum, partEntry) => {
        const partDef = settings.additionalParts.find(p => p.id === partEntry.partId);
        if (!partDef) return sum;
        if (partDef.perInch) {
          return sum + (partDef.price * partEntry.widthInches * partEntry.quantity);
        }
        return sum + (partDef.price * partEntry.quantity);
      }, 0);

      const grandTotal = cabinetryEstimate + partsTotal;

      // Export to PDF
      const exportToPDF = () => {
        const pdfContent = `<!DOCTYPE html><html><head><title>Estimate - ${job.name || 'Untitled'}</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Helvetica Neue',Arial,sans-serif;padding:40px;color:#333;line-height:1.5}.header{border-bottom:3px solid #2563eb;padding-bottom:20px;margin-bottom:30px}.company{font-size:24px;font-weight:bold;color:#1e40af}.subtitle{font-size:12px;color:#666;margin-top:4px}.job-title{font-size:28px;font-weight:bold;margin-top:20px}.date{font-size:12px;color:#666;margin-top:8px}.section{margin-bottom:25px}.section-title{font-size:14px;font-weight:bold;color:#1e40af;border-bottom:1px solid #ddd;padding-bottom:8px;margin-bottom:12px;text-transform:uppercase;letter-spacing:0.5px}table{width:100%;border-collapse:collapse;margin-top:10px}th{background:#f3f4f6;padding:10px;text-align:left;font-size:11px;text-transform:uppercase;font-weight:600}td{padding:10px;border-bottom:1px solid #eee;font-size:13px}.text-right{text-align:right}.totals-section{background:#f8fafc;border:2px solid #2563eb;border-radius:8px;padding:20px;margin-top:30px}.total-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #e2e8f0}.grand-total{background:#2563eb;color:white;padding:15px 20px;border-radius:6px;margin-top:15px;display:flex;justify-content:space-between;font-size:18px;font-weight:bold}.category-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px}.category-card{background:#f9fafb;padding:12px;border-radius:6px}.category-name{font-weight:600;color:#1e40af;margin-bottom:6px}.category-detail{font-size:12px;color:#666}</style></head><body><div class="header"><div class="company">Homestead Cabinet Design</div><div class="subtitle">Custom Kitchen Cabinets ‚Ä¢ Refacing ‚Ä¢ Refinishing</div><div class="job-title">${job.name || 'Untitled Estimate'}</div><div class="date">Created: ${new Date(job.createdAt).toLocaleDateString()} | Printed: ${new Date().toLocaleDateString()}</div></div><div class="section"><div class="section-title">Cabinet Categories</div><div class="category-grid">${job.categories.map(cat => {const cabType = settings.cabinetTypes.find(ct => ct.id === cat.cabinetTypeId);const matType = settings.materialTypes.find(mt => mt.id === cat.materialTypeId);const rate = getCategoryRate(cat.id);return `<div class="category-card"><div class="category-name">${cat.name}</div><div class="category-detail">Type: ${cabType?.name || 'Not selected'} ($${cabType?.price || 0})</div><div class="category-detail">Material: ${matType?.name || 'Not selected'} (${matType?.percentage || 0}%)</div><div class="category-detail"><strong>Rate: $${rate.toFixed(2)}/sq ft</strong></div></div>`;}).join('')}</div></div>${job.walls.length > 0 ? `<div class="section"><div class="section-title">Walls</div><table><thead><tr><th>Wall Name</th><th class="text-right">Uppers (${heights.uppers}"h)</th><th class="text-right">Bases (${heights.bases}"h)</th><th class="text-right">Tall (${heights.tall}"h)</th><th class="text-right">Island (${heights.island}"h)</th><th class="text-right">Total Sq Ft</th></tr></thead><tbody>${job.walls.map(wall => `<tr><td>${wall.name}</td><td class="text-right">${wall.uppersLinear || 0}"</td><td class="text-right">${wall.basesLinear || 0}"</td><td class="text-right">${wall.tallLinear || 0}"</td><td class="text-right">${wall.islandLinear || 0}"</td><td class="text-right">${getWallSquareFeet(wall).toFixed(2)}</td></tr>`).join('')}<tr style="font-weight:bold;background:#f3f4f6"><td>Total</td><td class="text-right">${totalUppersLinear}"</td><td class="text-right">${totalBasesLinear}"</td><td class="text-right">${totalTallLinear}"</td><td class="text-right">${totalIslandLinear}"</td><td class="text-right">${totalSquareFeet.toFixed(2)}</td></tr></tbody></table></div>` : ''}${job.additionalParts.length > 0 ? `<div class="section"><div class="section-title">Additional Parts</div><table><thead><tr><th>Part</th><th class="text-right">Qty</th><th class="text-right">Width</th><th class="text-right">Subtotal</th></tr></thead><tbody>${job.additionalParts.map(partEntry => {const partDef = settings.additionalParts.find(p => p.id === partEntry.partId);const subtotal = partDef ? (partDef.perInch ? partDef.price * partEntry.widthInches * partEntry.quantity : partDef.price * partEntry.quantity) : 0;return `<tr><td>${partDef?.name || 'Unknown'}</td><td class="text-right">${partEntry.quantity}</td><td class="text-right">${partDef?.perInch ? partEntry.widthInches + '"' : '-'}</td><td class="text-right">$${subtotal.toFixed(2)}</td></tr>`;}).join('')}</tbody></table></div>` : ''}<div class="totals-section"><div class="section-title" style="border:none;margin-bottom:15px">Estimate Summary</div><div class="total-row"><span>Wall Cabinets (${totalUppersSqFt.toFixed(2)} sq ft √ó $${wallCabinetsRate.toFixed(2)})</span><span>$${uppersCost.toFixed(2)}</span></div><div class="total-row"><span>Base Cabinets (${totalBasesSqFt.toFixed(2)} sq ft √ó $${baseCabinetsRate.toFixed(2)})</span><span>$${basesCost.toFixed(2)}</span></div><div class="total-row"><span>Tall Cabinets (${totalTallSqFt.toFixed(2)} sq ft √ó $${tallCabinetsRate.toFixed(2)})</span><span>$${tallCost.toFixed(2)}</span></div><div class="total-row"><span>Island Cabinets (${totalIslandSqFt.toFixed(2)} sq ft √ó $${islandCabinetsRate.toFixed(2)})</span><span>$${islandCost.toFixed(2)}</span></div><div class="total-row"><span>Additional Parts</span><span>$${partsTotal.toFixed(2)}</span></div><div class="grand-total"><span>Grand Total</span><span>$${grandTotal.toFixed(2)}</span></div></div></body></html>`;
        const printWindow = window.open('', '_blank');
        printWindow.document.write(pdfContent);
        printWindow.document.close();
        printWindow.focus();
        setTimeout(() => printWindow.print(), 250);
      };

      // Render section helper
      const renderSection = (title, section, showPerInch = false, isPercentage = false) => (
        <div className="settings-section">
          <div className="section-header">
            <h3 className="section-title">{title}</h3>
            <button className="add-btn" onClick={() => setEditSection(editSection === section ? null : section)}>
              {editSection === section ? '‚àí Close' : '+ Add'}
            </button>
          </div>
          {editSection === section && (
            <div className="add-form">
              <input type="text" placeholder="Name" value={newItemName} onChange={(e) => setNewItemName(e.target.value)} className="input" />
              <input type="number" placeholder={isPercentage ? "%" : "Price"} value={newItemPrice} onChange={(e) => setNewItemPrice(e.target.value)} className="input" style={{width: '140px'}} step="1" />
              {showPerInch && (
                <label className="checkbox-label">
                  <input type="checkbox" checked={newItemPerInch} onChange={(e) => setNewItemPerInch(e.target.checked)} />
                  Per Inch
                </label>
              )}
              <button className="submit-btn" onClick={() => addItem(section)}>Add</button>
            </div>
          )}
          <div className="items-list">
            {settings[section].map(item => (
              <div key={item.id} className="item-row">
                <span className="item-name">
                  {item.name}
                  {item.perInch && <span className="per-inch-badge">per inch</span>}
                </span>
                <div className="item-actions">
                  {isPercentage ? (
                    <>
                      <input type="number" value={item.percentage} onChange={(e) => updatePercentage(section, item.id, e.target.value)} className="price-input" step="1" />
                      <span className="percent-sign">%</span>
                    </>
                  ) : (
                    <>
                      <span className="dollar-sign">$</span>
                      <input type="number" value={item.price} onChange={(e) => updatePrice(section, item.id, e.target.value)} className="price-input" step="1" />
                    </>
                  )}
                  <button className="remove-btn" onClick={() => removeItem(section, item.id)}>√ó</button>
                </div>
              </div>
            ))}
          </div>
        </div>
      );

      return (
        <div>
          <header className="header">
            <h1 className="logo">Cabinet Estimator</h1>
            <p className="logo-sub">Homestead Cabinet Design ‚Ä¢ Quick Onsite Estimates</p>
          </header>

          <div className="tabs">
            <button className={`tab ${activeTab === 'settings' ? 'active' : ''}`} onClick={() => setActiveTab('settings')}>
              ‚öôÔ∏è Settings & Pricing
            </button>
            <button className={`tab ${activeTab === 'estimate' ? 'active' : ''}`} onClick={() => setActiveTab('estimate')}>
              üìã Create Estimate
            </button>
          </div>

          <div className="content">
            {activeTab === 'settings' ? (
              <div>
                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', flexWrap: 'wrap', gap: '16px', marginBottom: '32px'}}>
                  <div>
                    <h2 className="page-title">Settings & Pricing</h2>
                    <p className="subtitle" style={{margin: 0}}>Configure your pricing data for estimates (auto-saved)</p>
                  </div>
                  <button onClick={resetToDefaults} style={{padding: '8px 16px', backgroundColor: '#21262d', color: '#f85149', border: '1px solid #f85149', borderRadius: '6px', fontSize: '13px', cursor: 'pointer'}}>
                    üîÑ Reset All to Defaults
                  </button>
                </div>
                <div className="settings-grid">
                  {renderSection('Cabinet Types', 'cabinetTypes')}
                  {renderSection('Material Types', 'materialTypes', false, true)}
                </div>
                <div style={{marginTop: '24px'}}>
                  {renderSection('Additional Parts', 'additionalParts', true)}
                </div>
                
                <div style={{marginTop: '24px'}}>
                  <div className="settings-section">
                    <div className="section-header">
                      <h3 className="section-title">Default Cabinet Heights</h3>
                    </div>
                    <div style={{padding: '16px 20px', display: 'flex', gap: '20px', flexWrap: 'wrap'}}>
                      <div style={{flex: 1, minWidth: '120px'}}>
                        <label className="label-small">Uppers (inches)</label>
                        <input 
                          type="number" 
                          value={settings.defaultHeights?.uppers || 30} 
                          onChange={(e) => setSettings(prev => ({...prev, defaultHeights: {...prev.defaultHeights, uppers: parseFloat(e.target.value) || 30}}))} 
                          className="input-small" 
                          step="0.5"
                        />
                      </div>
                      <div style={{flex: 1, minWidth: '120px'}}>
                        <label className="label-small">Bases (inches)</label>
                        <input 
                          type="number" 
                          value={settings.defaultHeights?.bases || 34.5} 
                          onChange={(e) => setSettings(prev => ({...prev, defaultHeights: {...prev.defaultHeights, bases: parseFloat(e.target.value) || 34.5}}))} 
                          className="input-small" 
                          step="0.5"
                        />
                      </div>
                      <div style={{flex: 1, minWidth: '120px'}}>
                        <label className="label-small">Tall (inches)</label>
                        <input 
                          type="number" 
                          value={settings.defaultHeights?.tall || 84} 
                          onChange={(e) => setSettings(prev => ({...prev, defaultHeights: {...prev.defaultHeights, tall: parseFloat(e.target.value) || 84}}))} 
                          className="input-small" 
                          step="0.5"
                        />
                      </div>
                      <div style={{flex: 1, minWidth: '120px'}}>
                        <label className="label-small">Island (inches)</label>
                        <input 
                          type="number" 
                          value={settings.defaultHeights?.island || 34.5} 
                          onChange={(e) => setSettings(prev => ({...prev, defaultHeights: {...prev.defaultHeights, island: parseFloat(e.target.value) || 34.5}}))} 
                          className="input-small" 
                          step="0.5"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            ) : (
              <div>
                <div className="job-actions-bar">
                  <div className="job-actions-left">
                    <button className="new-job-btn" onClick={newJobHandler}>+ New Job</button>
                    <button className="save-job-btn" onClick={saveJob}>üíæ Save Job</button>
                    <button className="open-job-btn" onClick={() => setShowJobList(!showJobList)}>
                      üìÇ Open Job {savedJobs.length > 0 && `(${savedJobs.length})`}
                    </button>
                  </div>
                  <div className="job-actions-right">
                    <button className="export-btn" onClick={exportToPDF}>üìÑ Export to PDF</button>
                    <button className="clear-btn" onClick={clearEstimate}>Clear Estimate</button>
                  </div>
                </div>

                {showJobList && (
                  <div className="job-list-card">
                    <h3 className="job-list-title">Saved Jobs</h3>
                    {savedJobs.length === 0 ? (
                      <p className="empty-text">No saved jobs yet.</p>
                    ) : (
                      <div className="job-list">
                        {savedJobs.map(savedJob => (
                          <div key={savedJob.id} className={`job-list-item ${savedJob.id === job.id ? 'active' : ''}`}>
                            <div className="job-list-info">
                              <span className="job-list-name">{savedJob.name}</span>
                              <span className="job-list-date">Updated: {new Date(savedJob.updatedAt).toLocaleDateString()}</span>
                            </div>
                            <div className="job-list-actions">
                              <button className="load-job-btn" onClick={() => loadJob(savedJob)}>Load</button>
                              <button className="delete-job-btn" onClick={() => deleteJob(savedJob.id)}>√ó</button>
                            </div>
                          </div>
                        ))}
                      </div>
                    )}
                  </div>
                )}

                <div className="estimate-header">
                  <h2 className="page-title">Job Estimate</h2>
                  {savedJobs.find(j => j.id === job.id) && <span className="saved-badge">‚úì Saved</span>}
                </div>

                <div className="card">
                  <h3 className="card-title">Job Information</h3>
                  <div className="form-row">
                    <div className="form-group">
                      <label className="label">Job Name</label>
                      <input type="text" value={job.name} onChange={(e) => setJob(prev => ({ ...prev, name: e.target.value }))} placeholder="Enter job name" className="input-large" />
                    </div>
                  </div>
                </div>

                <div className="card">
                  <h3 className="card-title">Cabinet Categories</h3>
                  <div className="categories-grid">
                    {job.categories.map(cat => (
                      <div key={cat.id} className="category-card">
                        <h4 className="category-title">{cat.name}</h4>
                        <div className="form-group">
                          <label className="label-small">Cabinet Type</label>
                          <select value={cat.cabinetTypeId || ''} onChange={(e) => updateCategory(cat.id, 'cabinetTypeId', e.target.value)} className="select-small">
                            <option value="">Select...</option>
                            {settings.cabinetTypes.map(type => (
                              <option key={type.id} value={type.id}>{type.name}</option>
                            ))}
                          </select>
                        </div>
                        <div className="form-group">
                          <label className="label-small">Material Type</label>
                          <select value={cat.materialTypeId || ''} onChange={(e) => updateCategory(cat.id, 'materialTypeId', e.target.value)} className="select-small">
                            <option value="">Select...</option>
                            {settings.materialTypes.map(type => (
                              <option key={type.id} value={type.id}>{type.name}</option>
                            ))}
                          </select>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                <div className="card">
                  <div className="card-header">
                    <h3 className="card-title" style={{padding: 0}}>Walls</h3>
                    <button className="add-wall-btn" onClick={addWall}>+ Add Wall</button>
                  </div>
                  {job.walls.length === 0 ? (
                    <p className="empty-text">No walls added yet. Click "Add Wall" to start.</p>
                  ) : (
                    <div className="walls-list">
                      {job.walls.map(wall => (
                        <div key={wall.id} className="wall-row">
                          <div className="wall-field">
                            <label className="label-small">Wall Name</label>
                            <input type="text" value={wall.name} onChange={(e) => updateWall(wall.id, 'name', e.target.value)} className="input-small" />
                          </div>
                          <div className="wall-field">
                            <label className="label-small">Uppers ({heights.uppers}"h)</label>
                            <input type="number" value={wall.uppersLinear || ''} onChange={(e) => updateWall(wall.id, 'uppersLinear', e.target.value)} placeholder="0" className="input-small" />
                          </div>
                          <div className="wall-field">
                            <label className="label-small">Bases ({heights.bases}"h)</label>
                            <input type="number" value={wall.basesLinear || ''} onChange={(e) => updateWall(wall.id, 'basesLinear', e.target.value)} placeholder="0" className="input-small" />
                          </div>
                          <div className="wall-field">
                            <label className="label-small">Tall ({heights.tall}"h)</label>
                            <input type="number" value={wall.tallLinear || ''} onChange={(e) => updateWall(wall.id, 'tallLinear', e.target.value)} placeholder="0" className="input-small" />
                          </div>
                          <div className="wall-field">
                            <label className="label-small">Island ({heights.island}"h)</label>
                            <input type="number" value={wall.islandLinear || ''} onChange={(e) => updateWall(wall.id, 'islandLinear', e.target.value)} placeholder="0" className="input-small" />
                          </div>
                          <div className="wall-field">
                            <label className="label-small">Total Sq Ft</label>
                            <span className="calculated-value">{getWallSquareFeet(wall).toFixed(2)}</span>
                          </div>
                          <button className="remove-wall-btn" onClick={() => removeWall(wall.id)}>√ó</button>
                        </div>
                      ))}
                    </div>
                  )}
                </div>

                <div className="card">
                  <div className="card-header">
                    <h3 className="card-title" style={{padding: 0}}>Additional Parts</h3>
                    <button className="add-wall-btn" onClick={addPart}>+ Add Part</button>
                  </div>
                  {job.additionalParts.length === 0 ? (
                    <p className="empty-text">No additional parts added.</p>
                  ) : (
                    <div className="parts-list">
                      {job.additionalParts.map(partEntry => {
                        const partDef = settings.additionalParts.find(p => p.id === partEntry.partId);
                        return (
                          <div key={partEntry.id} className="part-row">
                            <div className="part-field">
                              <label className="label-small">Part</label>
                              <select value={partEntry.partId || ''} onChange={(e) => updatePart(partEntry.id, 'partId', e.target.value)} className="select-small">
                                <option value="">Select part...</option>
                                {settings.additionalParts.map(part => (
                                  <option key={part.id} value={part.id}>{part.name} (${part.price}{part.perInch ? '/in' : ''})</option>
                                ))}
                              </select>
                            </div>
                            <div className="part-field">
                              <label className="label-small">Quantity</label>
                              <input type="number" value={partEntry.quantity || ''} onChange={(e) => updatePart(partEntry.id, 'quantity', e.target.value)} placeholder="1" className="input-small" min="1" />
                            </div>
                            {partDef?.perInch && (
                              <div className="part-field">
                                <label className="label-small">Width (inches)</label>
                                <input type="number" value={partEntry.widthInches || ''} onChange={(e) => updatePart(partEntry.id, 'widthInches', e.target.value)} placeholder="0" className="input-small" />
                              </div>
                            )}
                            <div className="part-field">
                              <label className="label-small">Subtotal</label>
                              <span className="calculated-value">
                                ${partDef ? (partDef.perInch ? partDef.price * partEntry.widthInches * partEntry.quantity : partDef.price * partEntry.quantity).toFixed(2) : '0.00'}
                              </span>
                            </div>
                            <button className="remove-wall-btn" onClick={() => removePart(partEntry.id)}>√ó</button>
                          </div>
                        );
                      })}
                    </div>
                  )}
                </div>

                <div className="totals-card">
                  <h3 className="totals-title">Estimate Summary</h3>
                  {job.name && <p className="job-name-display">{job.name}</p>}
                  <div className="totals-grid">
                    <div className="total-item">
                      <span className="total-label">Total Linear Inches</span>
                      <span className="total-value">{totalLinearInches.toLocaleString()}"</span>
                    </div>
                    <div className="total-item">
                      <span className="total-label">Total Square Feet</span>
                      <span className="total-value">{totalSquareFeet.toFixed(2)} sq ft</span>
                    </div>
                    <div className="total-item">
                      <span className="total-label">Cabinetry Total</span>
                      <span className="total-value">${cabinetryEstimate.toFixed(2)}</span>
                    </div>
                  </div>
                  <div className="divider"></div>
                  <div className="breakdown-list">
                    <div className="breakdown-item">
                      <span>Wall Cabinets ({totalUppersSqFt.toFixed(2)} sq ft √ó ${wallCabinetsRate.toFixed(2)})</span>
                      <span>${uppersCost.toFixed(2)}</span>
                    </div>
                    <div className="breakdown-item">
                      <span>Base Cabinets ({totalBasesSqFt.toFixed(2)} sq ft √ó ${baseCabinetsRate.toFixed(2)})</span>
                      <span>${basesCost.toFixed(2)}</span>
                    </div>
                    <div className="breakdown-item">
                      <span>Tall Cabinets ({totalTallSqFt.toFixed(2)} sq ft √ó ${tallCabinetsRate.toFixed(2)})</span>
                      <span>${tallCost.toFixed(2)}</span>
                    </div>
                    <div className="breakdown-item">
                      <span>Island Cabinets ({totalIslandSqFt.toFixed(2)} sq ft √ó ${islandCabinetsRate.toFixed(2)})</span>
                      <span>${islandCost.toFixed(2)}</span>
                    </div>
                    <div className="breakdown-item">
                      <span>Additional Parts</span>
                      <span>${partsTotal.toFixed(2)}</span>
                    </div>
                  </div>
                  <div className="grand-total">
                    <span>Grand Total</span>
                    <span>${grandTotal.toFixed(2)}</span>
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<CabinetEstimator />, document.getElementById('root'));
  </script>
</body>
</html>
